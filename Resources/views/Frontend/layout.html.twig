<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
    <head>
        {% block head %}
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

            <title>{% block title %}{{ render(controller('EgzaktSystemBundle:Frontend/Navigation:PageTitle')) }}{% endblock %}</title>

            {% block stylesheets %}{% include 'EgzaktSystemBundle:Frontend/Core:stylesheets.html.twig' %}{% endblock %}

            <link rel="icon" type="image/png" href="{{ asset('favicon.ico') }}" />

            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
            <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>

            {% block metas %}{% include 'EgzaktSystemBundle:Frontend/Core:open_graph_metas.html.twig' %}{% endblock %}

            {% block head_extra %}{{ render(controller('EgzaktSystemBundle:Frontend/Core:HeadExtra')) }}{% endblock %}
        {% endblock %}
    </head>

    <body{% block body_attr %} id="{# get_bundle_name() #}_bundle" class="{# get_controller_name() #}_controller {# get_action_name() #}_action"{% endblock %}>
        {% block body %}

            <div id="wrapper">

                <header id="site_header">
                    {{ render(controller('EgzaktSystemBundle:Frontend/Navigation:LocaleSwitcher')) }}
                    {{ render(controller('EgzaktSystemBundle:Frontend/Navigation:ByCode', { code: 'secondary', attr: { id: 'secondary_navigation' } })) }}

                    {% block logo %}
                        <div id="logo">
                            <a href="{{ path('section_id_1') }}">{{ project_title }}</a>
                        </div>
                    {% endblock %}
                </header>

                {{ render(controller('EgzaktSystemBundle:Frontend/Navigation:ByCode', { code: 'primary', maxLevel: 1, attr: { id: 'primary_navigation'} })) }}

                <div id="main" role="main">
                    {% block breadcrumbs %}{{ render(controller('EgzaktSystemBundle:Frontend/Navigation:Breadcrumbs')) }}{% endblock %}

                    {# TODO: sub-navigation #}

                    <div id="content">
                        {% block content %}{% endblock %}
                    </div>
                </div>

                <footer id="site_footer">
                    {{ render(controller('EgzaktSystemBundle:Frontend/Navigation:ByCode', { code: 'footer', attr: { id: 'footer_navigation' } })) }}
                </footer>
            </div>

            {% block javascripts %}
                {% include 'EgzaktSystemBundle:Frontend/Core:javascripts.html.twig' %}
            {% endblock %}

            {% block analytics %}
                {% include 'EgzaktSystemBundle:Frontend/Core:analytics.html.twig' %}
            {% endblock %}
        {% endblock %}
    </body>
</html>
